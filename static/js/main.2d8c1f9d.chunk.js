(this["webpackJsonpstuff-list"]=this["webpackJsonpstuff-list"]||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),l=n(15),s=n.n(l),i=n(9),o=n(3),d=n(10),u=n(8),j=n(18),b=function(e,t,n){var a=e;return a.id=n,[].concat(Object(j.a)(t),[a])},m=function(e,t){var n=t.findIndex((function(t){return t.id===e}));return[].concat(Object(j.a)(t.slice(0,n)),Object(j.a)(t.slice(n+1)))},h=function(e,t){var n=t.findIndex((function(t){return t.id===e.id})),a=t;return a[n]=e,a},p=function(){var e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate(),a=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[a,t,n].join("-")},f=function(e){return{added:p(),altered:p(),fullname:e[2].value,password:e[3].value,status:e[0].value,email:e[4].value,phone:e[5].value}},O=(n(36),function(e){var t=e.user,n=Object(u.b)(),c=Object(o.f)(),l=Object(u.c)((function(e){return e})),s=l.userList,i=l.id,j=Object(r.useState)(""),m=Object(d.a)(j,2),p=m[0],O=m[1],x=t?"UPDATE USER":"ADD";return Object(a.jsxs)("form",{className:"form-group mt-2",onSubmit:function(e){e.preventDefault();var r=f(e.target);t?(r.id=t.id,r.added=t.added,n(function(e,t){return{type:"UPDATE_USER",payload:h(e,t)}}(r,s)),O(Object(a.jsx)("div",{className:"alert alert-success text-center mt-2",children:"User updated"})),c.push("/add-new")):(n(function(e,t,n){return{type:"ADD_USER",payload:b(e,t,n)}}(r,s,i)),n(function(e){return{type:"UPDATE_ID",payload:e+1}}(i)),O(Object(a.jsx)("div",{className:"alert alert-primary text-center mt-2 w-100",children:"User added to list"})),setTimeout((function(){return c.push("/")}),1e3))},children:[Object(a.jsx)("label",{htmlFor:"role-select",children:"Role"}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{value:"",label:"Select user role"},{value:"admin",label:"Admin"},{value:"partner",label:"Partner"},{value:"client",label:"Client"}],n=e?e.status:"",r=t.map((function(e){return Object(a.jsx)("option",{value:e.value,children:e.label},e.value)}));return Object(a.jsx)("select",{defaultValue:n,className:"form-control",name:"roles",id:"role-select",required:!0,children:r},e.id)}(t),Object(a.jsxs)("fieldset",{className:"d-flex flex-column form-group",children:[Object(a.jsx)("label",{htmlFor:"fullname",children:"Full name"}),Object(a.jsx)("input",{defaultValue:t?t.fullname:"",className:"form-control",id:"fullname",minLength:"4",pattern:"^([a-zA-Z]|[\u0410-\u042f\u0430-\u044f])+\\s([a-zA-Z]|[\u0410-\u042f\u0430-\u044f])+\\s?([a-zA-Z]|[\u0410-\u042f\u0430-\u044f])*$",type:"text",required:!0}),Object(a.jsx)("label",{htmlFor:"password",children:"Password, at least 8 symbols "}),Object(a.jsx)("input",{defaultValue:t?t.password:"",placeholder:"Letters in upper & lowercase and ! ? symbols",className:"form-control",id:"password",pattern:"[0-9!?a-zA-Z]{8,}",type:"text",required:!0}),Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{className:"form-control",defaultValue:t?t.email:"",id:"email",type:"email",placeholder:"@",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$",required:!0}),Object(a.jsx)("label",{htmlFor:"phone",children:"Full phone number, whitespaces, '-' & '()' can be omitted"}),Object(a.jsx)("input",{placeholder:". (...) ... .. ..",className:"form-control",defaultValue:t?t.phone:"",id:"tel",type:"tel",pattern:"\\+?[89]{1}[-\\s]?\\(?[0-9]{3}\\)?[-\\s]?[0-9]{3}[-\\s]?[0-9]{2}[-\\s]?[0-9]{2}",required:!0})]},t?t.fullname:"new"),Object(a.jsx)("input",{className:"btn btn-primary  w-100",type:"submit",value:x}),p]})}),x=n(26),v=(n(38),n(39),function(e){var t=e.onFilter,n=e.onSearch,c=e.filterName,l=Object(r.useState)(""),s=Object(d.a)(l,2),i=s[0],o=s[1],u=[{name:"all",label:"All"},{name:"admin",label:"Admin"},{name:"partner",label:"Partner"},{name:"client",label:"Client"}],j=c;return u=u.map((function(e){var n=e.name,r=e.label,c=j===n?"btn btn-primary":"btn-outline-secondary";return Object(a.jsx)("button",{onClick:function(){return t(n)},type:"button",className:"btn ".concat(c),children:r},n)})),Object(a.jsxs)("nav",{className:"panel",children:[Object(a.jsx)("div",{className:"btn-group",children:u}),Object(a.jsx)("input",{onChange:function(e){var t=e.target.value;o(t),n(t)},value:i,type:"text",className:"form-control",placeholder:"Name, @email or phone number"})]})}),y=function(e){var t=Object(u.b)(),n=Object(u.c)((function(e){return e})).userList,r=e.id,c=e.status,l=e.email,s=e.phone,o=e.fullname,d=e.password,j=e.added,b=e.altered;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"action-cell",children:Object(a.jsx)("button",{onClick:function(){t(function(e,t){return{type:"DELETE_USER",payload:m(e,t)}}(r,n))},className:"btn btn-warning",children:"DEL"})}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:Object(a.jsx)(i.b,{to:{pathname:"/user/".concat(r),user:e},children:o})}),Object(a.jsx)("td",{children:d}),Object(a.jsx)("td",{children:j}),Object(a.jsx)("td",{children:b}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:s})]})},N=function(){var e,t,n=Object(u.c)((function(e){return e})).userList,c=Object(r.useState)("all"),l=Object(d.a)(c,2),s=l[0],i=l[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),b=j[0],m=j[1],h=function(e,t,n){return e[t].toLowerCase().indexOf(n.toLowerCase())>-1},p=function(e,t){return"all"===e?t:t.filter((function(t){return t.status===e}))}(s,(t=n,(e=b).lenght<1?n:t.filter((function(t){var n=h(t,"fullname",e),a=h(t,"email",e),r=h(t,"phone",e);return n||a||r})))),f=Object(a.jsx)("tr",{children:Object(a.jsx)("td",{className:"text-center",colSpan:"75%",children:"NO DATA ..."})});return Object(a.jsxs)("div",{children:[Object(a.jsx)(v,{onFilter:function(e){i(e)},onSearch:function(e){m(e)},filterName:s}),Object(a.jsxs)("table",{className:"mt-1",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Action"}),Object(a.jsx)("th",{scope:"col",children:"Role"}),Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"Pass"}),Object(a.jsx)("th",{scope:"col",children:"Added"}),Object(a.jsx)("th",{scope:"col",children:"Last changed"}),Object(a.jsx)("th",{scope:"col",children:"Email"}),Object(a.jsx)("th",{scope:"col",children:"Phone"})]})}),Object(a.jsx)("tbody",{children:n.length?function(e){return e.map((function(e){var t=e.id;return Object(a.jsx)(y,Object(x.a)({},e),t)}))}(p):f})]})]})};n(40);var w=function(){return Object(a.jsx)("div",{className:"appBody",children:Object(a.jsxs)(i.a,{basename:window.location.pathname||"",children:[Object(a.jsxs)("nav",{className:"head",children:[Object(a.jsx)("button",{className:"btn btn-primary",children:Object(a.jsx)(i.b,{className:"navLink",to:"/",children:"LIST"})}),Object(a.jsx)("button",{className:"btn btn-secondary",children:Object(a.jsx)(i.b,{className:"navLink",to:"/add-new",children:"Add new user"})})]}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/",exact:!0,component:N}),Object(a.jsx)(o.a,{path:"/add-new",component:O}),Object(a.jsx)(o.a,{path:"/user/:id",render:function(e){var t=e.match,n=e.location,r=t.params.id,c=n.user;return Object(a.jsx)(O,{id:r,user:c})}})]})]})})},g=n(12),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_USER":case"ADD_USER":case"UPDATE_USER":return t.payload;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ID":return t.payload;default:return e}},A=Object(g.b)({userList:S,id:E}),D=localStorage.getItem("UsersListStore3"),L=null===D?{id:1e3,userList:[{id:1,added:"2020-04-05",altered:"2020-11-20",fullname:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",password:"qwerty777!",status:"admin",email:"admin@corbox.ru",phone:"8-900-000-11-22"},{id:2,added:"2019-01-08",altered:"2020-06-03",fullname:"\u0418\u0432\u0430\u043d\u043e\u0432\u0430 \u0418\u0440\u0438\u043d\u0430 \u041f\u0435\u0442\u0440\u043e\u0432\u043d\u0430",password:"20190108Cr",status:"partner",email:"somepartner@mail.ru",phone:"8-800-123-45-67"},{id:3,added:"2017-09-25",altered:"2020-11-20",fullname:"\u0421\u0435\u043c\u0435\u043d \u0421\u0435\u043c\u043d\u043e\u0432\u0438\u0447 \u0421\u0435\u043c\u0435\u043d\u043e\u0432",password:"semen!1995!",status:"client",email:"iamsemyon@yandex.ru",phone:"8-950-321-21-21"},{id:4,added:"2018-01-06",altered:"2020-03-15",fullname:"\u041f\u0435\u0442\u0440\u043e\u0432\u043d\u0430 \u0410\u043d\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u043d\u0430",password:"hardPAsss!11",status:"client",email:"box@mail.ru",phone:"8-800-333-22-11"}]}:JSON.parse(D),U=Object(g.c)(A,L);U.subscribe((function(){localStorage.setItem("UsersListStore3",JSON.stringify(U.getState()))}));var P=U;s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(u.a,{store:P,children:Object(a.jsx)(w,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.2d8c1f9d.chunk.js.map